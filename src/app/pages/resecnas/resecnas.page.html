<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" text="Atrás" icon="arrow-back" [routerLink]="['/perfil']"></ion-back-button>
    </ion-buttons>
    <ion-title>Mis Reseñas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Reseñas Activas -->
  <ng-container *ngIf="resecnas && resecnas.length > 0; else noResenas">
    <h2 class="section-title">Reseñas Activas</h2>
    <ion-card *ngFor="let resecna of resecnas" class="reseña-card">
      <ion-card-header>
        <ion-card-title>Producto: {{ resecna.nombre_prod }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Reseña:</strong> {{ resecna.text_resecna }}</p>
        <ion-button (click)="eliminarResecna(resecna.id_resecna)">
          Eliminar Reseña
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>

  <!-- Template para cuando no haya reseñas activas -->
  <ng-template #noResenas>
    <ion-card class="reseña-card">
      <ion-card-content class="no-resenas-content">
        <p>No tienes reseñas registradas.</p>
      </ion-card-content>
    </ion-card>
  </ng-template>

  <!-- Reseñas Baneadas -->
  <ng-container *ngIf="resecnasBaneadas && resecnasBaneadas.length > 0">
    <h2 class="section-title banned-title">Reseñas Baneadas</h2>
    <ion-card *ngFor="let resecna of resecnasBaneadas" class="reseña-card banned-card">
      <ion-card-header>
        <ion-card-title>Producto: {{ resecna.nombre_prod }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Motivo del Baneo:</strong> {{ resecna.motivo_suspencion }}</p>
        <p><strong>Reseña:</strong> {{ resecna.text_resecna }}</p>
        <ion-button color="danger" (click)="eliminarResecnaBaneada(resecna.id_suspencion)">
          Eliminar Reseña Baneada
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>
</ion-content>
